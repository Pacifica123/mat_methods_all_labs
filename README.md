# Проект: all_labs_copy

## Описание
Данный проект реализует набор лабораторных по математическим методам и моделям поддержки принятия решений.  
Он написан на **Rust**, но также использует вспомогательные скрипты на Python для визуализации.

Проект охватывает несколько направлений:
- задачи детерминированной оптимизации;
- многокритериальные модели;
- задачи оптимизации питания;
- анализ риска;
- кластеризацию данных.

## Установка и запуск

1. Установите [Rust](https://www.rust-lang.org/tools/install).
2. Склонируйте проект или распакуйте архив.
3. Перейдите в папку проекта:
   ```bash
   cd all_labs_copy
   ```
4. Соберите проект:
   ```bash
   cargo build --release
   ```
5. Запустите проект:
   ```bash
   cargo run -- <аргументы>
   ```

## Использование
> [⚠️ Важно!] Модуль оптимизации питания (nutrition) в настоящее время считается **нестабильным** и может работать некорректно.  
> Рекомендуется **не использовать** данный модуль до его дальнейшей доработки и стабилизации.

> [⚠️ Важно!] Для работы модуля кластеризации (clustering) необходимо поставить некоторые зависимости python:.  
> `pip install numpy matplotlib scipy` - для последнего может потребоваться обновить сертификат:
> `pip install --upgrade certifi`.

Программа запускается через `cargo run`, указывая задачу и входные данные.  
Примеры:

```bash
# Запуск задачи анализа риска
cargo run -- risk data/data_for_risk.json

# Запуск задачи кластеризации
cargo run -- clustering data/data_for_clustering.json

# Запуск задачи питания
cargo run -- nutrition data/example.json
```

Результаты сохраняются в папку `data/` (например, дендрограмма сохраняется как `dendrogram.png`).

## Архитектура проекта

```
all_labs_copy/
├── Cargo.toml              # Конфигурация Cargo
├── src/
│   ├── main.rs             # Точка входа программы
│   ├── core/               # Базовые утилиты
│   │   ├── parser.rs       # Парсинг входных данных (JSON, txt)
│   │   ├── printer.rs      # Форматированный вывод результатов
│   │   ├── base.rs         # Общие структуры данных
│   │   └── mod.rs
│   ├── problems/           # Реализация задач
│   │   ├── deterministic.rs # Детерминированные модели оптимизации
│   │   ├── multicriteria.rs # Многокритериальные задачи
│   │   ├── nutrition.rs     # Задачи оптимизации питания
│   │   ├── risk.rs          # Анализ риска
│   │   ├── clustering.rs    # Кластеризация данных
│   │   └── mod.rs
│   └── tools/              # Вспомогательные инструменты
│       ├── risk_builder.rs # Генерация сценариев риска
│       ├── draw_dendrogram.py # Построение дендрограммы (Python)
│       └── mod.rs
├── data/                   # Примеры входных и выходных данных
│   ├── data_for_risk.json
│   ├── data_for_clustering.json
│   ├── example.json
│   ├── answer_for_clustering.txt
│   └── dendrogram.png
```

## Принципы работы модулей

- **main.rs** — анализирует аргументы командной строки, вызывает соответствующую задачу.  
- **core/**  
  - `parser.rs` — загружает и разбирает входные данные (JSON, txt).  
  - `printer.rs` — форматирует и выводит результаты в консоль или файл.  
  - `base.rs` — содержит общие структуры (например, векторы данных, модели).  
- **problems/**  
  - `deterministic.rs` — решает задачи оптимизации при фиксированных условиях.  
  - `multicriteria.rs` — реализует методы для задач с несколькими критериями.  
  - `nutrition.rs` — задачи типа "задача о диете" (оптимизация питания).  
  - `risk.rs` — анализ сценариев риска, расчет вероятностей.  
  - `clustering.rs` — кластеризация (например, иерархическая).  
- **tools/**  
  - `risk_builder.rs` — инструмент для генерации сценариев риска.  
  - `draw_dendrogram.py` — скрипт на Python для построения графика дендрограммы по результатам кластеризации.  

## Визуализация

Для задач кластеризации можно дополнительно запустить Python-скрипт:
```bash
python3 src/tools/draw_dendrogram.py data/data_for_clustering.json
```

Он построит изображение дендрограммы и сохранит его в `data/dendrogram.png`.

---
